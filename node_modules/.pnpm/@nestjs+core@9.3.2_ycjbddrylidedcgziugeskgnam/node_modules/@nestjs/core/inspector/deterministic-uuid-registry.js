"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DeterministicUuidRegistry = void 0;
const uuid_1 = require("uuid");
const DEFAULT_UUID_NAMESPACE = 'efa0df42-88af-474f-9cad-4206a2319f07';
class DeterministicUuidRegistry {
    static get(str, namespace = DEFAULT_UUID_NAMESPACE, inc = 0) {
        const id = inc ? (0, uuid_1.v5)(str + `${inc}`, namespace) : (0, uuid_1.v5)(str, namespace);
        if (this.registry.has(id)) {
            return this.get(str, namespace, inc + 1);
        }
        this.registry.add(id);
        return id;
    }
    static clear() {
        this.registry.clear();
    }
}
exports.DeterministicUuidRegistry = DeterministicUuidRegistry;
DeterministicUuidRegistry.registry = new Set();
